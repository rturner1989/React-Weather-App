{"version":3,"sources":["Context.js","components/WeatherCard.js","components/CardContainer.js","components/SearchMenu.js","components/DailyForecastCard.js","components/DailyForecastContainer.js","App.js","index.js"],"names":["AppContext","React","createContext","AppProvider","children","useState","weatherData","setWeatherData","currentForecast","setCurrentForecast","getCityData","cityName","a","fetch","response","status","json","city","getDailyForecast","coord","lon","lat","forecast","time","moment","format","alert","long","data","console","log","getLocation","Promise","resolve","rejection","navigator","geolocation","getCurrentPosition","getLongLatData","position","latitude","coords","longitude","Provider","value","updateCurrentForecast","index","useGlobalContext","useContext","WeatherCard","id","className","onClick","name","src","weather","icon","alt","description","charAt","toUpperCase","slice","Math","round","main","temp","humidity","Date","sys","sunset","toLocaleTimeString","CardContainer","length","map","item","SearchMenu","setCityName","type","placeholder","onChange","e","target","preventDefault","disabled","DailyForecastCard","day","dt","toLocaleDateString","morn","feels_like","eve","night","DailyForecastContainer","daily","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d5f6db16.chunk.js","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport moment from \"moment\";\r\n\r\nconst AppContext = React.createContext();\r\n\r\nconst AppProvider = ({ children }) => {\r\n    const [weatherData, setWeatherData] = useState([]);\r\n    const [currentForecast, setCurrentForecast] = useState(null);\r\n\r\n    const getCityData = async (cityName) => {\r\n        const response = await fetch(\r\n            `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&units=metric&appid=91d2f9efc77a289707cbc8c106b46727`\r\n        );\r\n        if (response.status !== 404) {\r\n            const city = await response.json();\r\n            const forecast = await getDailyForecast(\r\n                city.coord.lon,\r\n                city.coord.lat\r\n            );\r\n            setWeatherData([\r\n                ...weatherData,\r\n                { city: { ...city, time: moment().format(\"LTS\") }, forecast },\r\n            ]);\r\n        } else {\r\n            alert(\"Error - Invalid Location Entered\");\r\n        }\r\n    };\r\n\r\n    const getDailyForecast = async (long, lat) => {\r\n        const response = await fetch(\r\n            `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${long}&exclude=current,minutely,hourly,alerts&units=metric&appid=91d2f9efc77a289707cbc8c106b46727`\r\n        );\r\n        const data = await response.json();\r\n        console.log(data);\r\n        return data;\r\n    };\r\n\r\n    const getLocation = () => {\r\n        return new Promise((resolve, rejection) => {\r\n            navigator.geolocation.getCurrentPosition(resolve, rejection);\r\n        });\r\n    };\r\n\r\n    const getLongLatData = async () => {\r\n        const position = await getLocation();\r\n        const latitude = position.coords.latitude;\r\n        const longitude = position.coords.longitude;\r\n\r\n        const response = await fetch(\r\n            `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&units=metric&appid=91d2f9efc77a289707cbc8c106b46727`\r\n        );\r\n        const city = await response.json();\r\n        const forecast = await getDailyForecast(longitude, latitude);\r\n        setWeatherData([\r\n            ...weatherData,\r\n            { city: { ...city, time: moment().format(\"LTS\") }, forecast },\r\n        ]);\r\n    };\r\n\r\n    const updateCurrentForecast = (index) => {\r\n        setCurrentForecast(weatherData[index].forecast);\r\n    };\r\n\r\n    return (\r\n        <AppContext.Provider\r\n            value={{\r\n                weatherData,\r\n                currentForecast,\r\n                getCityData,\r\n                getLongLatData,\r\n                getLocation,\r\n                setCurrentForecast,\r\n                updateCurrentForecast,\r\n            }}\r\n        >\r\n            {children}\r\n        </AppContext.Provider>\r\n    );\r\n};\r\n\r\nexport { AppContext, AppProvider };\r\nexport const useGlobalContext = () => {\r\n    return useContext(AppContext);\r\n};\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"../Context\";\r\n\r\nconst WeatherCard = ({ weatherData, index }) => {\r\n    const { updateCurrentForecast } = useGlobalContext();\r\n    return (\r\n        <div\r\n            id={weatherData.id}\r\n            className=\"weather-card\"\r\n            onClick={() => updateCurrentForecast(index)}\r\n        >\r\n            <h3>{weatherData.name}</h3>\r\n            <p className=\"weather-info\">Time: {weatherData.time}</p>\r\n            <hr />\r\n            <img\r\n                src={`http://openweathermap.org/img/wn/${weatherData.weather[0].icon}.png`}\r\n                alt=\"weather icon\"\r\n            />\r\n            <p className=\"weather-info\">\r\n                {weatherData.weather[0].description.charAt(0).toUpperCase() +\r\n                    weatherData.weather[0].description.slice(1)}\r\n            </p>\r\n            <p className=\"weather-info\">\r\n                {Math.round(weatherData.main.temp)}&deg;C\r\n            </p>\r\n            <hr />\r\n            <p className=\"weather-info\">\r\n                Humidity: {weatherData.main.humidity}%\r\n            </p>\r\n            <p className=\"weather-info\">\r\n                Sunset:{\" \"}\r\n                {new Date(weatherData.sys.sunset * 1000).toLocaleTimeString(\r\n                    \"en-GB\"\r\n                )}\r\n                pm\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default WeatherCard;\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"../Context\";\r\n\r\nimport WeatherCard from \"./WeatherCard\";\r\n\r\nconst CardContainer = () => {\r\n    const { weatherData } = useGlobalContext();\r\n    return (\r\n        <div id=\"weather-data-container\">\r\n            {weatherData.length !== 0 ? (\r\n                weatherData.map((item, index) => {\r\n                    return (\r\n                        <WeatherCard\r\n                            key={index}\r\n                            index={index}\r\n                            weatherData={item.city}\r\n                        />\r\n                    );\r\n                })\r\n            ) : (\r\n                <div></div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CardContainer;\r\n","import React, { useState } from \"react\";\r\nimport { useGlobalContext } from \"../Context\";\r\nimport { GrLocation } from \"react-icons/gr\";\r\n\r\nconst SearchMenu = () => {\r\n    const [cityName, setCityName] = useState(\"\");\r\n\r\n    const { getLongLatData, getCityData } = useGlobalContext();\r\n\r\n    return (\r\n        <form id=\"location-searchbar\">\r\n            <input\r\n                id=\"location-input\"\r\n                type=\"text\"\r\n                placeholder=\"Search for a location\"\r\n                onChange={(e) => setCityName(e.target.value)}\r\n            />\r\n            <button\r\n                id=\"search-btn\"\r\n                type=\"submit\"\r\n                onClick={(e) => {\r\n                    e.preventDefault();\r\n                    getCityData(cityName);\r\n                }}\r\n                disabled={cityName === \"\" ? true : false}\r\n            >\r\n                Submit\r\n            </button>\r\n            <button\r\n                id=\"current-location-btn\"\r\n                type=\"submit\"\r\n                onClick={(e) => {\r\n                    e.preventDefault();\r\n                    getLongLatData();\r\n                }}\r\n            >\r\n                <GrLocation />\r\n            </button>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default SearchMenu;\r\n","import React from \"react\";\r\n\r\nconst DailyForecastCard = ({ day }) => {\r\n    return (\r\n        <div className=\"forecast-card\">\r\n            <h4 className=\"daily-weather-info\">\r\n                {new Date(day.dt * 1000).toLocaleDateString(\"en-GB\")}\r\n            </h4>\r\n            <img\r\n                src={`http://openweathermap.org/img/wn/${day.weather[0].icon}.png`}\r\n                alt=\"weather icon\"\r\n            />\r\n            <p className=\"forecast-info\">{day.weather[0].description}</p>\r\n            <p className=\"forecast-info\"> Humidity: {day.humidity}%</p>\r\n            <table>\r\n                <tbody>\r\n                    <tr>\r\n                        <td></td>\r\n                        <th>Temp</th>\r\n                        <th>Feels Like</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Morning</th>\r\n                        <td>{Math.round(day.temp.morn)}&deg;C</td>\r\n                        <td>{Math.round(day.feels_like.morn)}&deg;C</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Afternoon</th>\r\n                        <td>{Math.round(day.temp.day)}&deg;C</td>\r\n                        <td>{Math.round(day.feels_like.day)}&deg;C</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Evening</th>\r\n                        <td>{Math.round(day.temp.eve)}&deg;C</td>\r\n                        <td>{Math.round(day.feels_like.eve)}&deg;C</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Night</th>\r\n                        <td>{Math.round(day.temp.night)}&deg;C</td>\r\n                        <td>{Math.round(day.feels_like.night)}&deg;C</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DailyForecastCard;\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"../Context\";\r\nimport DailyForecastCard from \"./DailyForecastCard\";\r\n\r\nconst DailyForecastContainer = () => {\r\n    const { currentForecast } = useGlobalContext();\r\n    return (\r\n        <div id=\"daily-weather-forecast\">\r\n            {currentForecast &&\r\n                currentForecast.daily.map((day, index) => {\r\n                    if (index !== 0) {\r\n                        return <DailyForecastCard key={index} day={day} />;\r\n                    }\r\n                })}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DailyForecastContainer;\r\n","import React from \"react\";\nimport CardContainer from \"./components/CardContainer\";\nimport SearchMenu from \"./components/SearchMenu\";\nimport DailyForecastContainer from \"./components/DailyForecastContainer\";\n\nconst App = () => {\n    return (\n        <div id=\"app-container\">\n            <SearchMenu />\n            <CardContainer />\n            <DailyForecastContainer />\n        </div>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AppProvider } from \"./Context\";\nimport \"semantic-ui-css/semantic.min.css\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <AppProvider>\n            <App />\n        </AppProvider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}